---
import { getPageTranslations } from "@/i18n/i18n";
import { type Locale } from "@/i18n/config";
import { ChevronDown } from "@lucide/astro";

export interface Props {
  locale: Locale;
  className?: string;
}

const { locale, className = "" } = Astro.props;

// Get translations for this component
const { t } = await getPageTranslations(locale, ["common"]);
---

<section
  id="home"
  class={`hero-section min-h-screen flex items-center justify-center relative overflow-hidden ${className}`}
>
  <!-- Background Gradient Overlay -->
  <div class="absolute inset-0 hero-bg-gradient"></div>
  <div class="absolute inset-0 hero-overlay-gradient"></div>

  <!-- Animated background elements - Enhanced for dark mode -->
  <div
    class="absolute top-1/4 left-1/4 w-72 h-72 bg-gradient-to-r from-blue-400/20 to-purple-400/20 dark:from-blue-500/30 dark:to-purple-500/30 rounded-full blur-3xl animate-pulse"
  >
  </div>
  <div
    class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-purple-400/20 to-pink-400/20 dark:from-purple-500/30 dark:to-pink-500/30 rounded-full blur-3xl animate-pulse"
    style="animation-delay: 2s;"
  >
  </div>
  <div
    class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gradient-to-r from-cyan-400/15 to-blue-400/15 dark:from-cyan-500/25 dark:to-blue-500/25 rounded-full blur-3xl animate-pulse"
    style="animation-delay: 4s;"
  >
  </div>

  <!-- Additional dark mode specific elements -->
  <div
    class="absolute top-10 right-10 w-40 h-40 bg-gradient-to-r from-indigo-500/20 to-blue-500/20 dark:from-indigo-400/25 dark:to-blue-400/25 rounded-full blur-2xl animate-pulse hidden dark:block"
    style="animation-delay: 1s;"
  >
  </div>
  <div
    class="absolute bottom-10 left-10 w-60 h-60 bg-gradient-to-r from-purple-500/15 to-indigo-500/15 dark:from-purple-400/20 dark:to-indigo-400/20 rounded-full blur-2xl animate-pulse hidden dark:block"
    style="animation-delay: 3s;"
  >
  </div>

  <!-- Floating particles - Enhanced for dark mode -->
  <div
    class="absolute top-20 left-10 w-2 h-2 bg-blue-400/60 dark:bg-blue-300/80 rounded-full animate-float"
  >
  </div>
  <div
    class="absolute top-40 right-20 w-3 h-3 bg-purple-400/60 dark:bg-purple-300/80 rounded-full animate-float-1"
  >
  </div>
  <div
    class="absolute bottom-40 left-20 w-2 h-2 bg-indigo-400/60 dark:bg-indigo-300/80 rounded-full animate-float-2"
  >
  </div>
  <div
    class="absolute bottom-20 right-10 w-4 h-4 bg-cyan-400/60 dark:bg-cyan-300/80 rounded-full animate-float-3"
  >
  </div>
  <div
    class="absolute top-60 left-1/3 w-3 h-3 bg-pink-400/60 dark:bg-pink-300/80 rounded-full animate-float-4"
  >
  </div>
  <div
    class="absolute top-80 right-1/3 w-2 h-2 bg-blue-500/60 dark:bg-blue-400/80 rounded-full animate-float-5"
  >
  </div>

  <div class="container-wide text-center px-6 relative z-10">
    <div class="max-w-4xl mx-auto">
      <!-- Greeting -->
      <p
        class="text-lg md:text-xl hero-greeting mb-4 opacity-90 drop-shadow-sm"
      >
        {t("hero.greeting", {}, "Hi, I'm")}
      </p>

      <!-- Name -->
      <h1
        class="text-5xl md:text-7xl lg:text-8xl font-bold text-foreground mb-6 tracking-tight drop-shadow-lg"
      >
        <span
          class="hero-name-gradient bg-clip-text text-transparent animate-gradient"
        >
          {t("hero.name", {}, "Anisa")}
        </span>
      </h1>

      <!-- Title -->
      <h2
        class="text-2xl md:text-4xl lg:text-5xl font-semibold text-foreground mb-6 drop-shadow-md"
      >
        {t("hero.title", {}, "Full-Stack Developer")}
      </h2>

      <!-- Subtitle -->
      <p
        class="text-lg md:text-xl hero-subtitle max-w-2xl mx-auto mb-12 leading-relaxed drop-shadow-sm"
      >
        {
          t(
            "hero.subtitle",
            {},
            "I create innovative web applications with modern technologies"
          )
        }
      </p>

      <!-- CTA Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a
          href="#projects"
          class="btn btn-primary btn-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 relative z-10 hover:text-white"
        >
          {t("hero.cta", {}, "View My Work")}
        </a>
      </div>

      <!-- Scroll indicator -->
      <div class="mt-16 animate-bounce">
        <ChevronDown class="w-6 h-6 mx-auto text-muted hero-scroll-icon" />
      </div>
    </div>
  </div>
</section>

<style>
  .hero-section {
    position: relative;
    /* CSS Variables for light mode */
    --hero-bg-start: #eef2ff;
    --hero-bg-middle: #ffffff;
    --hero-bg-end: #ecfeff;
    --hero-overlay-start: rgba(59, 130, 246, 0.1);
    --hero-overlay-end: rgba(147, 51, 234, 0.1);
    --hero-radial-blue: rgba(59, 130, 246, 0.08);
    --hero-radial-purple: rgba(147, 51, 234, 0.08);
    --hero-radial-indigo: rgba(99, 102, 241, 0.05);
    /* Name gradient variables for light mode */
    --name-gradient-start: #2563eb;
    --name-gradient-middle: #9333ea;
    --name-gradient-end: #4f46e5;
    /* Text colors for light mode */
    --greeting-color: #6b7280;
    --subtitle-color: #6b7280;
    --scroll-icon-color: #6b7280;
  }

  /* Dark mode CSS variables */
  :global(.dark) .hero-section {
    --hero-bg-start: #0f172a;
    --hero-bg-middle: #312e81;
    --hero-bg-end: #581c87;
    --hero-overlay-start: rgba(30, 64, 175, 0.4);
    --hero-overlay-end: rgba(126, 34, 206, 0.4);
    --hero-radial-blue: rgba(59, 130, 246, 0.15);
    --hero-radial-purple: rgba(147, 51, 234, 0.15);
    --hero-radial-indigo: rgba(99, 102, 241, 0.1);
    /* Name gradient variables for dark mode - brighter colors */
    --name-gradient-start: #93c5fd;
    --name-gradient-middle: #c084fc;
    --name-gradient-end: #67e8f9;
    /* Text colors for dark mode - better contrast */
    --greeting-color: #e5e7eb;
    --subtitle-color: #d1d5db;
    --scroll-icon-color: #d1d5db;
  }

  /* Background gradients using CSS variables */
  .hero-bg-gradient {
    background: linear-gradient(
      to bottom right,
      var(--hero-bg-start),
      var(--hero-bg-middle),
      var(--hero-bg-end)
    );
  }

  .hero-overlay-gradient {
    background: linear-gradient(
      to top right,
      var(--hero-overlay-start),
      transparent,
      var(--hero-overlay-end)
    );
  }

  /* Name gradient using CSS variables */
  .hero-name-gradient {
    background: linear-gradient(
      to right,
      var(--name-gradient-start),
      var(--name-gradient-middle),
      var(--name-gradient-end)
    );
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent;
  }

  /* Text colors using CSS variables */
  .hero-greeting {
    color: var(--greeting-color);
  }

  .hero-subtitle {
    color: var(--subtitle-color);
  }

  .hero-scroll-icon {
    color: var(--scroll-icon-color);
  }

  /* Enhanced background with radial gradients using variables */
  .hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
        ellipse at top,
        var(--hero-radial-blue) 0%,
        transparent 60%
      ),
      radial-gradient(
        ellipse at bottom right,
        var(--hero-radial-purple) 0%,
        transparent 60%
      ),
      radial-gradient(
        ellipse at bottom left,
        var(--hero-radial-indigo) 0%,
        transparent 60%
      );
    pointer-events: none;
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease-in-out infinite;
  }

  @keyframes gradient-shift {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Enhanced pulse animation for background elements */
  @keyframes pulse {
    0%,
    100% {
      opacity: 0.4;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.05);
    }
  }

  /* Dark mode enhanced pulse */
  :global(.dark) .animate-pulse {
    animation: pulse-dark 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-dark {
    0%,
    100% {
      opacity: 0.5;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.1);
    }
  }

  .animate-pulse {
    animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Floating animation for scroll indicator */
  .animate-bounce {
    animation: bounce 2s infinite;
  }

  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(-25%);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }

  /* Floating animation for particles */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-1 {
    animation: float 6s ease-in-out infinite;
    animation-delay: 1s;
  }

  .animate-float-2 {
    animation: float 6s ease-in-out infinite;
    animation-delay: 2s;
  }

  .animate-float-3 {
    animation: float 6s ease-in-out infinite;
    animation-delay: 3s;
  }

  .animate-float-4 {
    animation: float 6s ease-in-out infinite;
    animation-delay: 4s;
  }

  .animate-float-5 {
    animation: float 6s ease-in-out infinite;
    animation-delay: 5s;
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
      opacity: 0.4;
    }
    33% {
      transform: translateY(-20px) rotate(120deg);
      opacity: 0.8;
    }
    66% {
      transform: translateY(-10px) rotate(240deg);
      opacity: 0.6;
    }
  }
</style>
